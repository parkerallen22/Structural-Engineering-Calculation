.page {
  display: grid;
  gap: 1rem;
  padding: 1rem 0 2rem;
}

.pageHeader h1 { margin: 0 0 0.35rem; }
.pageHeader p { margin: 0; color: #475569; }

.layout { display: grid; gap: 1rem; }
.inputColumn,
.resultsColumn { display: grid; gap: 1rem; align-content: start; }

@media (min-width: 1080px) {
  .layout { grid-template-columns: minmax(0, 1fr) minmax(0, 1fr); }
}

.sectionCard,
.accordion {
  border: 1px solid #d8e0eb;
  border-radius: 12px;
  background: #fff;
}
.sectionCard { padding: 1rem; }

.accordion summary {
  list-style: none;
  cursor: pointer;
  padding: 0.95rem 1rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: background 0.2s;
}

.accordion summary:hover { background: #f8fafc; }
.accordion summary::-webkit-details-marker { display: none; }
.accordionBody { border-top: 1px solid #e2e8f0; padding: 1rem; display: grid; gap: 0.75rem; }

.chevron { display: inline-block; transition: transform 0.2s; }
.chevronOpen { transform: rotate(180deg); }

.inputGrid { display: grid; gap: 0.75rem; grid-template-columns: 1fr; }
@media (min-width: 700px) { .inputGrid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }

.field { display: grid; gap: 0.35rem; font-size: 0.94rem; }
.fieldLabel { color: #0f172a; font-weight: 600; }
.inputWrap { position: relative; }
.field input,
.field select {
  width: 100%; border: 1px solid #cbd5e1; border-radius: 8px; padding: 0.5rem 0.65rem;
  font-size: 0.94rem;
}
.unitSuffix { position: absolute; right: 0.65rem; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 0.82rem; pointer-events: none; }
.field small,
.inlineNote { color: #64748b; font-size: 0.82rem; margin: 0; }

.varLabel { display: inline-flex; gap: 0.35rem; align-items: baseline; }
.varLabel em { font-style: normal; color: #64748b; font-weight: 500; font-size: 0.84em; }

.inlineBadge { margin: 0; display: inline-flex; align-items: center; padding: 0.2rem 0.55rem; border-radius: 999px; background: #eff6ff; color: #1d4ed8; font-size: 0.78rem; font-weight: 600; width: fit-content; }

.toggleRow { display: grid; grid-template-columns: auto 1fr; gap: 0.65rem; align-items: center; }
.toggleRow p { margin: 0; font-weight: 600; }
.switch { width: 44px; height: 24px; display: inline-flex; position: relative; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; inset: 0; background: #cbd5e1; border-radius: 999px; transition: 0.2s; }
.slider::before { content: ''; position: absolute; left: 3px; top: 3px; width: 18px; height: 18px; border-radius: 50%; background: #fff; transition: 0.2s; }
.switch input:checked + .slider { background: #2563eb; }
.switch input:checked + .slider::before { transform: translateX(20px); }

.stackMd,
.nestedStack,
.resultRegion { display: grid; gap: 0.9rem; }
.toggleInline { width: fit-content; }

.stickyActions { position: sticky; bottom: 0; background: linear-gradient(180deg, rgba(255,255,255,0), #fff 35%); padding-top: 0.8rem; }
.primaryButton,
.secondaryButton { border-radius: 8px; border: 1px solid #1e293b; padding: 0.56rem 0.9rem; font-weight: 600; cursor: pointer; text-decoration: none; display: inline-flex; align-items: center; }
.primaryButton { background: #0f172a; color: #fff; }
.secondaryButton { background: #fff; color: #0f172a; }

.resultsHeader { display: flex; justify-content: space-between; align-items: center; gap: 0.75rem; }
.headerActions { display: flex; gap: 0.6rem; }

.errorBox { border: 1px solid #fecaca; color: #7f1d1d; border-radius: 8px; padding: 0.8rem; background: #fff5f5; }

.placeholderCard { min-height: 280px; border-style: dashed; color: #64748b; display: grid; place-content: center; text-align: center; background: #fbfdff; }

.resultTable { width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-top: 0.75rem; }
.resultTable th,
.resultTable td { border: 1px solid #dbe2ea; padding: 0.5rem 0.6rem; }
.resultTable thead th { background: #eef4fb; font-weight: 700; text-align: right; }
.resultTable thead th:first-child,
.resultTable td:first-child { text-align: left; }
.resultTable tbody td { text-align: right; }

.detailAccordion summary { font-weight: 600; cursor: pointer; margin-top: 0.4rem; }
.calcBlock { display: grid; gap: 0.35rem; padding-top: 0.6rem; }
.calcBlock pre { margin: 0; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 0.65rem; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; white-space: pre-wrap; }
.eqLine { margin: 0; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size: 0.88rem; }

.inputSummaryGrid { display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: 0.45rem 1rem; margin-top: 0.6rem; }
.summaryLine { margin: 0; display: flex; justify-content: space-between; gap: 1rem; }

.printPage { padding: 1rem 0 2rem; }
.printControls { display: flex; gap: 0.75rem; align-items: center; margin-bottom: 1rem; }
.printToggle { display: inline-flex; gap: 0.4rem; align-items: center; font-size: 0.9rem; }
.paper { width: min(850px, 100%); margin: 0 auto; background: #fff; border: 1px solid #d7dee9; box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12); padding: 1.2rem; }
.paperHeader { border-bottom: 1px solid #e2e8f0; margin-bottom: 1rem; }

@media print {
  .printControls { display: none !important; }
  .paper { box-shadow: none; border: none; width: 100%; margin: 0; padding: 0; }
}


.tempActions { display: flex; justify-content: flex-end; }

.calcSummaryToggle {
  list-style: none;
  cursor: pointer;
  padding: 0.65rem 0;
  font-weight: 600;
}
.calcSummaryToggle::-webkit-details-marker { display: none; }
.calcSummaryTitle { display: inline-flex; gap: 0.4rem; align-items: center; }

.calcGroups { display: grid; gap: 0.85rem; padding-top: 0.6rem; }
.calcGroups h4 { margin: 0 0 0.35rem; }

.calcTable { width: 100%; border-collapse: collapse; font-size: 0.88rem; }
.calcTable th,
.calcTable td { border: 1px solid #dbe2ea; padding: 0.45rem 0.55rem; text-align: left; vertical-align: top; }
.calcTable thead th { background: #f3f7fc; font-weight: 700; }

.printSectionBlock { display: grid; gap: 0.55rem; margin-top: 0.8rem; }
.printSectionBlock h3 { margin: 0; }
